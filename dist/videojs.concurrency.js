!function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();o(1);var s=o(2),a=n(s),u=o(4),l=n(u),d=o(3),h=n(d);o(5);var f={idle_delay:18e5,poll_delay:2e4,error:Function.prototype,method:"GET",success:Function.prototype},p=function(){function t(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,t),this.options=h["default"]({},f,o),this.idle_timeout_id=null,this.poll_timeout_id=null,this.debug=o.debug||!1,e.on("ended",this.onEnded.bind(this)),e.on("pause",this.onPause.bind(this)),e.on("play",this.onPlay.bind(this))}return i(t,[{key:"error",value:function(t){if(this.debug===!0){for(var e=arguments.length,o=Array(e>1?e-1:0),n=1;e>n;n++)o[n-1]=arguments[n];o.length>0?console.error(t,o):console.error(t)}}},{key:"log",value:function(t){if(this.debug===!0){for(var e=arguments.length,o=Array(e>1?e-1:0),n=1;e>n;n++)o[n-1]=arguments[n];o.length>0?console.log(t,o):console.log(t)}}},{key:"warn",value:function(t){if(this.debug===!0){for(var e=arguments.length,o=Array(e>1?e-1:0),n=1;e>n;n++)o[n-1]=arguments[n];o.length>0?console.warn(t,o):console.warn(t)}}},{key:"onEnded",value:function(t){this.log("ended"),this.log("poll: reset"),this.log("poll: stopped"),clearTimeout(this.idle_timeout_id),clearTimeout(this.poll_timeout_id)}},{key:"onPause",value:function(t){this.log("pause"),this.log("poll: stopping in "+this.options.idle_delay+"ms"),this.idle_timeout_id=setTimeout(function(){this.log("poll: reset"),this.log("poll: stopped"),clearTimeout(this.poll_timeout_id)}.bind(this),this.options.idle_delay)}},{key:"onPlay",value:function(t){this.log("play"),clearTimeout(this.idle_timeout_id),clearTimeout(this.poll_timeout_id),this.log("poll: reset"),this.log("poll: running every "+this.options.poll_delay+"ms"),this.poll()}},{key:"poll",value:function(){var t=a["default"].build(this.options.url,this.options),e=l["default"].build(this.options);this.log("poll: "+t),fetch(t,e).then(function(t){return t.json()}).then(function(t){this.poll_timeout_id=setTimeout(function(){this.options.success.apply(this,[t])}.bind(this),this.options.poll_delay)}.bind(this))["catch"](function(t){this.error(t),this.options.error.apply(this,[t])}.bind(this))}}]),t}();videojs.plugin("concurrency",function(t){new p(this,t)})},function(t,e){!function(){"use strict";function t(t){if("string"!=typeof t&&(t=t.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function e(t){return"string"!=typeof t&&(t=t.toString()),t}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function n(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function r(t){return new Promise(function(e,o){t.onload=function(){e(t.result)},t.onerror=function(){o(t.error)}})}function i(t){var e=new FileReader;return e.readAsArrayBuffer(t),r(e)}function s(t){var e=new FileReader;return e.readAsText(t),r(e)}function a(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(p.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(p.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else{if(t)throw new Error("unsupported BodyInit type");this._bodyText=""}},p.blob?(this.blob=function(){var t=n(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(i)},this.text=function(){var t=n(this);if(t)return t;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=n(this);return t?t:Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(t){var e=t.toUpperCase();return c.indexOf(e)>-1?e:t}function l(t,e){if(e=e||{},this.url=t,this.credentials=e.credentials||"omit",this.headers=new o(e.headers),this.method=u(e.method||"GET"),this.mode=e.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&e.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(e.body)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var o=t.split("="),n=o.shift().replace(/\+/g," "),r=o.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(r))}}),e}function h(t){var e=new o,n=t.getAllResponseHeaders().trim().split("\n");return n.forEach(function(t){var o=t.trim().split(":"),n=o.shift().trim(),r=o.join(":").trim();e.append(n,r)}),e}function f(t,e){e||(e={}),this._initBody(t),this.type="default",this.url=null,this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof o?e.headers:new o(e.headers),this.url=e.url||""}if(!self.fetch){o.prototype.append=function(o,n){o=t(o),n=e(n);var r=this.map[o];r||(r=[],this.map[o]=r),r.push(n)},o.prototype["delete"]=function(e){delete this.map[t(e)]},o.prototype.get=function(e){var o=this.map[t(e)];return o?o[0]:null},o.prototype.getAll=function(e){return this.map[t(e)]||[]},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(o,n){this.map[t(o)]=[e(n)]},o.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(o){this.map[o].forEach(function(n){t.call(e,n,o,this)},this)},this)};var p={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self},c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];a.call(l.prototype),a.call(f.prototype),self.Headers=o,self.Request=l,self.Response=f,self.fetch=function(t,e){var o;return o=l.prototype.isPrototypeOf(t)&&!e?t:new l(t,e),new Promise(function(t,e){function n(){return"responseURL"in r?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):void 0}var r=new XMLHttpRequest;r.onload=function(){var o=1223===r.status?204:r.status;if(100>o||o>599)return void e(new TypeError("Network request failed"));var i={status:o,statusText:r.statusText,headers:h(r),url:n()},s="response"in r?r.response:r.responseText;t(new f(s,i))},r.onerror=function(){e(new TypeError("Network request failed"))},r.open(o.method,o.url,!0),"include"===o.credentials&&(r.withCredentials=!0),"responseType"in r&&p.blob&&(r.responseType="blob"),o.headers.forEach(function(t,e){r.setRequestHeader(e,t)}),r.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},self.fetch.polyfill=!0}}()},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var o=[],n=!0,r=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(o.push(s.value),!e||o.length!==e);n=!0);}catch(u){r=!0,i=u}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return o}return function(e,o){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=o(3),s=n(i),a={build:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(new RegExp("^GET$","i").test(e.method)===!1)return t;var o=this.parseUrl(t,e),n=o.data,r=o.host;return this.buildUri(r,n)},buildUri:function(t,e){if(0===Object.keys(e).length)return t;var o=0,n=t+"?";for(var r in e)e.hasOwnProperty(r)&&(o++&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n},parseUrl:function(t,e){var o={},n=void 0,i=document.createElement("a");i.href=t,n=i.search.replace(/^\?/,"").split("&");for(var a=0,u=n.length;u>a;a++){var l=n[a].split("="),d=r(l,2),h=d[0],f=d[1];o[h]=f}return{data:s["default"](o,e.data),host:i.protocol+"//"+i.host+i.pathname}}};e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function o(t){var e,o,n;for(o=1;o<arguments.length;o++){e=arguments[o];for(n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t[n]=e[n])}return t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o,t.exports=e["default"]},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(3),i=n(r),s={build:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e={};return new RegExp("^POST$","i").test(t.method)&&(e.body=JSON.stringify(t.data),e.method=t.method,e.headers=i["default"]({},{Accept:"application/json","Content-Type":"application/json"},t.headers)),e}};e["default"]=s,t.exports=e["default"]},function(t,e){"use strict";for(var o,n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=n.length,i=window.console=window.console||{};r--;)o=n[r],!i[o]&&(i[o]=function(){})}]);